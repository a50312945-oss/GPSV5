# 📱 GPS 油單輔助系統 v2.0 - 使用說明

## 🎉 歡迎使用

感謝您下載 GPS 油單輔助系統！這是一個專為行程記錄和油單管理設計的專業工具。

---

## 📦 檔案清單

```
GPS油單輔助系統_v2.0_完整版/
├── GPS油單輔助系統_v2.0.html     ← 主程式（直接開啟使用）
├── 使用說明.md                   ← 本檔案
├── 功能介紹.md                   ← 詳細功能說明
└── README.md                     ← 快速開始指南
```

---

## 🚀 快速開始（30 秒）

### 方式 1：直接使用（最簡單）

**步驟：**
1. 用瀏覽器開啟 `GPS油單輔助系統_v2.0.html`
2. 點擊「開始」按鈕
3. 輸入起點和終點
4. 開始記錄！

**推薦瀏覽器：**
- ✅ Chrome / Edge（推薦）
- ✅ Safari（iOS 推薦）
- ✅ Firefox

---

### 方式 2：加到手機主畫面（像 App）

#### **iPhone (Safari):**
```
1. 用 Safari 開啟 HTML 檔案
2. 點擊「分享」按鈕（底部中間）
3. 選擇「加入主畫面」
4. 點擊「新增」
5. 完成！現在有綠色定位標記 icon 了
```

#### **Android (Chrome):**
```
1. 用 Chrome 開啟 HTML 檔案
2. 點擊選單（右上角三個點）
3. 選擇「加到主畫面」
4. 點擊「新增」
5. 完成！顯示綠色定位標記 icon
```

---

## ✨ v2.0 新功能

### 1. **即時路線顯示**
- 🗺️ 主畫面地圖更大（45vh）
- 🟢 綠色路線即時繪製
- 📍 左上角顯示路徑點數
- 👁️ 一眼看清行程軌跡

### 2. **里程自動校正**
- 📊 預設補償 10% 誤差
- 🎯 更接近車子儀表板
- 🔧 背景自動運作
- ✅ 無需手動設定

### 3. **六重防護系統**
- 🔋 Wake Lock 防休眠
- 🔊 靜音音頻保活
- 💾 自動備份（每 10 秒）
- 📡 GPS 健康監控
- 🔄 斷線自動重連
- 🔋 電池監控

### 4. **專業功能**
- 📝 Excel 匯出
- 🎨 精美介面
- 🌙 深色模式
- 📱 響應式設計
- 💾 本地儲存

---

## 🎯 主要功能

### 📍 行程記錄
```
功能：
• GPS 即時追蹤
• 自動計算里程
• 路線即時顯示
• 起點終點命名

使用：
1. 點擊「開始」
2. 輸入起點/終點
3. 開始記錄
4. 點擊「停止」結束
```

### 📊 資料管理
```
功能：
• 歷史記錄查看
• 行程編輯修改
• Excel 匯出
• 自動備份

查看：
• 選單 → 歷史記錄
• 查看所有行程
• 編輯起點終點
• 刪除不要的記錄
```

### ⚙️ 設定選項
```
可設定：
• 車牌號碼
• 駕駛姓名
• 申請人姓名
• 起始里程數
• 終極防護模式
```

---

## 🗺️ 地圖使用

### 即時路線顯示

**開始記錄時：**
```
地圖顯示：
├─ 左上角：路徑點數（即時更新）
├─ 中央：當前位置（藍色圓圈）
├─ 綠線：已走過的路徑
└─ 自動跟隨移動
```

**視覺效果：**
```
路線顏色：品牌綠 #13ec5b
路線寬度：5px（粗線）
透明度：90%
樣式：圓滑、平順
```

---

## 📤 匯出 Excel

### 匯出步驟
```
1. 選單 → 匯出 Excel
   或
   歷史記錄 → 匯出按鈕

2. 自動下載 Excel 檔案

3. 檔名：GPS油單_YYYYMMDD_HHMMSS.xlsx
```

### Excel 內容
```
包含欄位：
1. 日期
2. 起點
3. 終點
4. 開始時間
5. 結束時間
6. 里程 (km)
7. 累積里程 (km)
8. 車牌號碼
9. 駕駛姓名
10. 申請人
11. 定位點數
12. 重連次數
```

---

## 🔧 常見問題

### Q1: 如何保證背景運行？

**A: 啟用終極防護模式**
```
設定 → 終極防護模式 → 開啟

建議：
• 連接車充
• 關閉省電模式
• 允許背景執行
• 允許位置權限「永遠」
```

### Q2: 里程為什麼跟儀表板不同？

**A: 已自動校正**
```
系統使用：
• GPS 直線距離 × 1.10
• 自動補償道路彎曲
• 預設誤差約 1%

如果還有誤差：
• 屬於正常範圍
• GPS 精度影響
• 道路複雜度影響
```

### Q3: 可以離線使用嗎？

**A: 可以！**
```
需要網路：
• 首次載入地圖圖層
• 匯出 Excel

不需網路：
• GPS 定位
• 里程計算
• 資料儲存
• 歷史記錄查看
```

### Q4: 資料會不會遺失？

**A: 三重保護**
```
1. localStorage 即時儲存
2. 自動備份（每 10 秒）
3. 瀏覽器關閉前提示

建議：
• 定期匯出 Excel
• 不要清除瀏覽器資料
```

### Q5: 可以同時用在多台裝置嗎？

**A: 各自獨立**
```
每台裝置：
• 有自己的記錄
• 不會同步
• 互不影響

如需合併：
• 各自匯出 Excel
• 手動整合
```

---

## 📱 手機使用建議

### iPhone
```
最佳體驗：
1. 加到主畫面使用
2. 啟用「永遠允許」位置
3. 開啟背景 App 重新整理
4. 連接車充

注意：
• 長途行程建議保持前景
• 或打包成原生 App（需付費）
```

### Android
```
最佳體驗：
1. 加到主畫面使用
2. 允許「一律允許」位置
3. 關閉電池優化
4. 允許背景執行
5. 連接車充

優勢：
• 背景運行更穩定
• 完全免費
```

---

## 🎨 Icon 說明

### 綠色定位標記
```
設計元素：
🗺️ 地圖定位標記
▶️ 播放/開始符號
💚 品牌綠色
🌓 深色背景

尺寸：
• 512x512px
• 自動縮放適配
• 支援 PWA
```

---

## 💾 資料儲存

### 儲存位置
```
使用技術：
• localStorage（瀏覽器本地）
• 容量：約 5-10 MB
• 可存：數百筆行程

資料包含：
• 行程記錄
• 設定資訊
• 路徑點資料
```

### 備份建議
```
定期備份：
1. 匯出 Excel（每週）
2. 保存 HTML 檔案
3. 雲端備份 Excel

重要！
• 不要清除瀏覽器資料
• 清除前先匯出
```

---

## 🆘 問題排除

### GPS 無法定位
```
檢查：
1. 是否允許位置權限
2. 是否開啟定位服務
3. 是否在戶外/窗邊
4. 等待 10-30 秒

解決：
• 重新載入頁面
• 點擊「測試 GPS」
• 重啟定位服務
```

### 背景會暫停
```
iPhone:
• 保持 App 在前景
• 或打包原生 App

Android:
• 關閉電池優化
• 允許背景執行
• 啟用終極防護
```

### 資料不見了
```
可能原因：
• 清除了瀏覽器資料
• 使用無痕模式
• 換了瀏覽器

預防：
• 定期匯出 Excel
• 不要清除資料
• 固定使用同一瀏覽器
```

---

## 📞 技術支援

### 自助解決
```
1. 查看本說明文件
2. 點擊「測試 GPS」
3. 點擊「測試防護系統」
4. 查看 Console 訊息
```

### 提供資訊
```
如需協助，請提供：
• 手機型號和系統版本
• 瀏覽器名稱和版本
• 錯誤訊息截圖
• 問題發生步驟
```

---

## 🎯 使用技巧

### 提高精確度
```
1. 確保 GPS 訊號良好
2. 在戶外空曠處開始
3. 等待 GPS 穩定（精確度 < 20m）
4. 連接車充
5. 啟用終極防護
```

### 省電技巧
```
1. 短程關閉終極防護
2. 降低螢幕亮度
3. 連接車充
4. 關閉不必要的 App
```

### 報帳使用
```
1. 輸入完整起點終點
2. 確認里程正確
3. 定期匯出 Excel
4. 保留 Excel 備份
5. 路線圖可截圖存證
```

---

## 📊 版本資訊

**目前版本：** v2.0.0  
**發布日期：** 2025-12-31  
**檔案大小：** 約 70 KB  

**主要更新：**
- ✅ 即時路線顯示
- ✅ 地圖加大 45vh
- ✅ 路徑點數顯示
- ✅ 自動里程校正
- ✅ 簡化設定介面

---

## 🎉 開始使用

準備好了嗎？

**立即開始：**
```
1. 開啟 GPS油單輔助系統_v2.0.html
2. 點擊「開始」
3. 開始您的第一趟行程！
```

祝您使用愉快！🚗✨

---

**GPS 油單輔助系統**  
專業行程記錄 × 油單管理  
v2.0.0 © 2025
